/**
 * ANIMATION TOKEN SYSTEM
 * 
 * Centralized animation keyframes and timing tokens for consistent
 * motion design across the Aaltjesdagen design system.
 * 
 * This file provides:
 * - Reusable keyframe animations (pulse, slide, fade, float, rotate, shimmer)
 * - Duration tokens (instant → slowest)
 * - Timing function tokens (easing curves)
 * - Animation utility classes for quick application
 * - Accessibility support (prefers-reduced-motion)
 * 
 * @author Aaltjesdagen Design System
 * @version 1.0.0
 */

/* ============================================
   TIMING FUNCTION TOKENS
   Easing curves for natural motion
   ============================================ */

:root {
  /* === EASING CURVES === */
  
  /**
   * Linear easing - constant speed throughout
   * Use for: Continuous rotations, progress bars
   */
  --ease-linear: linear;
  
  /**
   * Ease-in - accelerating from zero
   * Use for: Elements leaving the viewport
   */
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  
  /**
   * Ease-out - decelerating to zero
   * Use for: Elements entering the viewport (most common)
   */
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  
  /**
   * Ease-in-out - accelerate then decelerate
   * Use for: Smooth transitions, general purpose
   */
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  
  /**
   * Smooth easing - very gradual curve
   * Use for: Elegant, sophisticated animations
   */
  --ease-smooth: cubic-bezier(0.45, 0.05, 0.55, 0.95);
  
  /**
   * Bounce easing - overshoots then settles
   * Use for: Playful, attention-grabbing elements
   */
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  /* === DURATION TOKENS === */
  
  /**
   * Instant - 150ms
   * Use for: Micro-interactions, hover states
   */
  --duration-instant: 150ms;
  
  /**
   * Fast - 250ms
   * Use for: Quick transitions, tooltips
   */
  --duration-fast: 250ms;
  
  /**
   * Base - 350ms
   * Use for: Standard animations, default choice
   */
  --duration-base: 350ms;
  
  /**
   * Slow - 500ms
   * Use for: Deliberate motion, important transitions
   */
  --duration-slow: 500ms;
  
  /**
   * Slower - 750ms
   * Use for: Page transitions, reveals
   */
  --duration-slower: 750ms;
  
  /**
   * Slowest - 1000ms
   * Use for: Hero animations, dramatic effects
   */
  --duration-slowest: 1000ms;
  
  /* === DELAY TOKENS === */
  
  /**
   * Use for staggered animations and sequential reveals
   */
  --delay-none: 0ms;
  --delay-short: 100ms;
  --delay-medium: 200ms;
  --delay-long: 400ms;
}

/* ============================================
   KEYFRAME ANIMATIONS
   Reusable animation definitions
   ============================================ */

/* === FADE ANIMATIONS === */

/**
 * Simple fade in from transparent to opaque
 * 
 * @example
 * animation: fadeIn var(--duration-base) var(--ease-out);
 */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/**
 * Fade in with subtle scale
 * Creates a "growing" effect
 * 
 * @example
 * animation: fadeInScale var(--duration-base) var(--ease-out);
 */
@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* === SLIDE ANIMATIONS === */

/**
 * Slide in from bottom (most common)
 * 
 * @example
 * animation: slideUp var(--duration-base) var(--ease-out);
 */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/**
 * Slide in from right
 * 
 * @example
 * animation: slideInRight var(--duration-base) var(--ease-out);
 */
@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/**
 * Slide in from left
 * 
 * @example
 * animation: slideInLeft var(--duration-base) var(--ease-out);
 */
@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* === PULSE ANIMATIONS === */

/**
 * Subtle pulse for badges and indicators
 * Scale and opacity changes are minimal for elegance
 * 
 * @example
 * animation: pulse 3s var(--ease-smooth) infinite;
 */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.85;
    transform: scale(1.02);
  }
}

/**
 * Badge pulse with shadow effect
 * Designed for medical/emergency indicators (EhboPosten)
 * 
 * @example
 * animation: pulse-badge 3s var(--ease-in-out) infinite;
 */
@keyframes pulse-badge {
  0%, 100% {
    box-shadow: 
      0 10px 20px -5px color-mix(in srgb, var(--color-error), transparent 60%),
      0 0 0 4px color-mix(in srgb, var(--color-error), transparent 90%);
  }
  50% {
    box-shadow: 
      0 10px 20px -5px color-mix(in srgb, var(--color-error), transparent 40%),
      0 0 0 6px color-mix(in srgb, var(--color-error), transparent 85%);
  }
}

/**
 * Dot pulse for status indicators
 * More pronounced than subtle pulse
 * 
 * @example
 * animation: pulse-dot 2s var(--ease-in-out) infinite;
 */
@keyframes pulse-dot {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(1.2);
  }
}

/* === FLOAT ANIMATIONS === */

/**
 * Gentle floating motion
 * Perfect for decorative elements
 * 
 * @example
 * animation: float 6s var(--ease-in-out) infinite;
 */
@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/**
 * Complex floating with scale
 * Used for background blobs and ambient elements
 * 
 * @example
 * animation: floatComplex 20s var(--ease-smooth) infinite;
 */
@keyframes floatComplex {
  0%, 100% {
    transform: translate(0, 0) scale(1);
  }
  33% {
    transform: translate(50px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-30px, 30px) scale(0.95);
  }
}

/* === SHIMMER ANIMATIONS === */

/**
 * Gradient shimmer effect
 * Creates a "loading" or "highlight" animation
 * 
 * @example
 * animation: shimmer 2s var(--ease-linear) infinite;
 * background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
 * background-size: 200% 100%;
 */
@keyframes shimmer {
  from {
    background-position: -200% 0;
  }
  to {
    background-position: 200% 0;
  }
}

/* === ROTATE ANIMATIONS === */

/**
 * Full 360° rotation
 * Continuous spinning motion
 * 
 * @example
 * animation: rotate 20s var(--ease-linear) infinite;
 */
@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/**
 * Subtle back-and-forth rotation
 * Adds gentle movement without full spin
 * 
 * @example
 * animation: rotateSubtle 4s var(--ease-in-out) infinite;
 */
@keyframes rotateSubtle {
  0%, 100% {
    transform: rotate(-3deg);
  }
  50% {
    transform: rotate(3deg);
  }
}

/* ============================================
   ANIMATION UTILITY CLASSES
   Quick-apply classes for common animations
   ============================================ */

/**
 * Fade in animation
 * Usage: <div class="animate-fade-in">
 */
.animate-fade-in {
  animation: fadeIn var(--duration-base) var(--ease-out);
}

/**
 * Slide up animation (entrance from bottom)
 * Usage: <div class="animate-slide-up">
 */
.animate-slide-up {
  animation: slideUp var(--duration-base) var(--ease-out);
}

/**
 * Subtle pulse animation (infinite)
 * Usage: <div class="animate-pulse">
 */
.animate-pulse {
  animation: pulse 3s var(--ease-smooth) infinite;
}

/**
 * Floating animation (infinite)
 * Usage: <div class="animate-float">
 */
.animate-float {
  animation: float 6s var(--ease-in-out) infinite;
}

/**
 * Floating animation with delay (for staggered effects)
 * Usage: <div class="animate-float-delay">
 */
.animate-float-delay {
  animation: float 6s var(--ease-in-out) infinite;
  animation-delay: var(--delay-long);
}

/**
 * Shimmer animation (infinite)
 * Requires gradient background to be visible
 * Usage: <div class="animate-shimmer">
 */
.animate-shimmer {
  animation: shimmer 2s var(--ease-linear) infinite;
  background: linear-gradient(
    90deg,
    transparent 0%,
    color-mix(in srgb, var(--color-primary), transparent 90%) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
}

/**
 * Continuous rotation
 * Usage: <div class="animate-rotate">
 */
.animate-rotate {
  animation: rotate 20s var(--ease-linear) infinite;
}

/* ============================================
   STAGGER UTILITIES
   For sequential/cascade animations
   ============================================ */

/**
 * Stagger delays for list items or cards
 * Apply to child elements for sequential animation
 * 
 * @example
 * .card-list > * {
 *   animation: slideUp var(--duration-base) var(--ease-out);
 * }
 * .card-list > *:nth-child(1) { animation-delay: calc(var(--delay-short) * 0); }
 * .card-list > *:nth-child(2) { animation-delay: calc(var(--delay-short) * 1); }
 * .card-list > *:nth-child(3) { animation-delay: calc(var(--delay-short) * 2); }
 */

.stagger-children > * {
  animation: slideUp var(--duration-base) var(--ease-out);
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 100ms; }
.stagger-children > *:nth-child(3) { animation-delay: 200ms; }
.stagger-children > *:nth-child(4) { animation-delay: 300ms; }
.stagger-children > *:nth-child(5) { animation-delay: 400ms; }
.stagger-children > *:nth-child(6) { animation-delay: 500ms; }

/* ============================================
   ACCESSIBILITY
   Respect user motion preferences
   ============================================ */

/**
 * Users who prefer reduced motion should have animations
 * disabled or significantly reduced. This is critical for
 * accessibility and avoiding motion sickness.
 * 
 * All animations are either removed or sped up dramatically
 * to effectively be instantaneous.
 */
@media (prefers-reduced-motion: reduce) {
  /* Disable all custom animations */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  /* Disable infinite animations completely */
  .animate-pulse,
  .animate-float,
  .animate-float-delay,
  .animate-shimmer,
  .animate-rotate {
    animation: none !important;
  }
  
  /* Disable stagger effects */
  .stagger-children > * {
    animation: none !important;
  }
}

/* ============================================
   MIGRATION GUIDE & USAGE EXAMPLES
   ============================================ */

/**
 * === COMPONENT MIGRATION EXAMPLES ===
 * 
 * This section documents how to migrate existing inline animations
 * to use this centralized token system.
 * 
 * 
 * EXAMPLE 1: EhboPosten Medical Badge Animation
 * ----------------------------------------------
 * 
 * BEFORE (inline in component):
 * ```css
 * @keyframes pulse-badge {
 *   0%, 100% {
 *     box-shadow: 0 10px 20px -5px rgba(229, 115, 115, 0.4);
 *   }
 *   50% {
 *     box-shadow: 0 10px 20px -5px rgba(229, 115, 115, 0.6);
 *   }
 * }
 * 
 * .medical-badge {
 *   animation: pulse-badge 3s ease-in-out infinite;
 * }
 * ```
 * 
 * AFTER (using animation tokens):
 * ```css
 * .medical-badge {
 *   animation: pulse-badge 3s var(--ease-in-out) infinite;
 * }
 * ```
 * Note: Just replace `ease-in-out` with the token `var(--ease-in-out)`.
 * The keyframe definition is already in this file.
 * 
 * 
 * EXAMPLE 2: EhboPosten Indicator Dots
 * -------------------------------------
 * 
 * BEFORE (inline in component):
 * ```css
 * @keyframes pulse-dot {
 *   0%, 100% { opacity: 1; transform: scale(1); }
 *   50% { opacity: 0.5; transform: scale(1.2); }
 * }
 * 
 * .indicator-dot {
 *   animation: pulse-dot 2s ease-in-out infinite;
 * }
 * ```
 * 
 * AFTER (using animation tokens):
 * ```css
 * .indicator-dot {
 *   animation: pulse-dot 2s var(--ease-in-out) infinite;
 * }
 * ```
 * 
 * 
 * EXAMPLE 3: Card Entrance Animations
 * ------------------------------------
 * 
 * BEFORE (hardcoded timing):
 * ```css
 * @keyframes slideUp {
 *   from { opacity: 0; transform: translateY(20px); }
 *   to { opacity: 1; transform: translateY(0); }
 * }
 * 
 * .card {
 *   animation: slideUp 0.3s cubic-bezier(0, 0, 0.2, 1);
 * }
 * ```
 * 
 * AFTER (using animation tokens):
 * ```css
 * .card {
 *   animation: slideUp var(--duration-base) var(--ease-out);
 * }
 * ```
 * Or simply use the utility class:
 * ```html
 * <div class="card animate-slide-up">
 * ```
 * 
 * 
 * EXAMPLE 4: Staggered List Items
 * --------------------------------
 * 
 * BEFORE (manual delays):
 * ```css
 * .list-item {
 *   animation: fadeIn 0.35s ease-out;
 * }
 * .list-item:nth-child(1) { animation-delay: 0ms; }
 * .list-item:nth-child(2) { animation-delay: 100ms; }
 * .list-item:nth-child(3) { animation-delay: 200ms; }
 * ```
 * 
 * AFTER (using stagger utility):
 * ```html
 * <ul class="stagger-children">
 *   <li>Item 1</li>
 *   <li>Item 2</li>
 *   <li>Item 3</li>
 * </ul>
 * ```
 * 
 * 
 * === COMPONENTS USING INLINE ANIMATIONS ===
 * 
 * The following components currently have inline animation definitions
 * that could benefit from migrating to this system:
 * 
 * 1. EhboPosten.astro (lines 166-178, 234-243)
 *    - Uses: pulse-badge, pulse-dot
 *    - Migration: Replace timing function with var(--ease-in-out)
 * 
 * 2. global.css (lines 441-461)
 *    - Uses: float, float-3 (background blobs)
 *    - Note: These are specific to global background and can remain,
 *      but could reference --ease-smooth for consistency
 * 
 * 
 * === PERFORMANCE NOTES ===
 * 
 * - Animations using `transform` and `opacity` are GPU-accelerated
 *   and perform best.
 * - Avoid animating `width`, `height`, `top`, `left` properties.
 * - Use `will-change` sparingly and only during animation.
 * - `backdrop-filter` with blur can be expensive; test on lower-end devices.
 * 
 * 
 * === ACCESSIBILITY GUIDELINES ===
 * 
 * - All infinite animations must respect `prefers-reduced-motion`.
 * - Keep animation durations under 1 second for better UX.
 * - Provide fallbacks for browsers without animation support.
 * - Don't convey critical information through animation alone.
 * - Test with screen readers to ensure animations don't interfere.
 */
