---
/**
 * DecorativeUnderline Component
 *
 * Decorative gradient underline bar for titles and section headers.
 * Used to add visual emphasis and hierarchy to content sections.
 *
 * @component
 * @example
 * ```astro
 * <h2>Section Title</h2>
 * <DecorativeUnderline variant="primary" width="sm" />
 *
 * <h3>Subsection</h3>
 * <DecorativeUnderline variant="gradient" width="md" colors={['#50b0ae', '#ff7e67']} />
 * ```
 */

export interface Props {
  /** Visual style variant */
  variant?: "primary" | "secondary" | "accent" | "gradient";
  /** Width of the underline */
  width?: "sm" | "md" | "lg" | "full";
  /** Height/thickness of the bar */
  height?: "thin" | "medium" | "thick";
  /** Custom gradient colors (for gradient variant) */
  colors?: string[];
  /** Additional CSS classes */
  class?: string;
}

const {
  variant = "gradient",
  width = "sm",
  height = "medium",
  colors,
  class: className = "",
} = Astro.props;

// Width map for size variants
const widthMap: Record<NonNullable<Props["width"]>, string> = {
  sm: "4rem",
  md: "8rem",
  lg: "12rem",
  full: "100%",
};

// Height map for thickness variants
const heightMap: Record<NonNullable<Props["height"]>, string> = {
  thin: "0.25rem",
  medium: "0.375rem",
  thick: "0.5rem",
};

// Generate background based on variant
let background: string;
if (variant === "gradient") {
  // Use custom colors or default gradient
  const gradientColors = colors || [
    "var(--color-primary)",
    "var(--color-accent)",
  ];
  background = `linear-gradient(90deg, ${gradientColors.join(", ")})`;
} else if (variant === "primary") {
  background = "var(--color-primary)";
} else if (variant === "secondary") {
  background = "var(--color-secondary)";
} else if (variant === "accent") {
  background = "var(--color-accent)";
} else {
  background = "var(--color-primary)";
}
---

<div
  class={`decorative-underline ${className}`}
  style={`
    background: ${background};
    width: ${widthMap[width]};
    height: ${heightMap[height]};
  `}
>
</div>

<style>
  .decorative-underline {
    border-radius: 0.25rem;
    box-shadow: 0 2px 8px color-mix(in srgb, currentColor, transparent 70%);
    transition: all var(--transition-base);
  }

  .decorative-underline:hover {
    box-shadow: 0 4px 12px color-mix(in srgb, currentColor, transparent 60%);
  }
</style>

<!--
MIGRATION EXAMPLES:

1. ParkerenAutos (lines 144-156) - Gradient underline:
   BEFORE:
   <div class="w-16 h-1.5 rounded-full bg-gradient-to-r from-primary via-accent to-secondary shadow-lg mb-6"></div>
   
   AFTER:
   <DecorativeUnderline variant="gradient" width="sm" height="medium" class="mb-6" />

2. InEnRondomDeBinnenstad (lines 182-194) - Accent gradient bar:
   BEFORE:
   <div class="decorative-line"></div>
   <style>
     .decorative-line {
       width: 4rem;
       height: 0.375rem;
       background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
       border-radius: 0.25rem;
       box-shadow: 0 2px 8px rgba(80, 176, 174, 0.3);
     }
   </style>
   
   AFTER:
   <DecorativeUnderline variant="gradient" width="sm" height="medium" />

3. BereikbaarHero (line 18) - Simple accent bar:
   BEFORE:
   <div class="w-20 h-1 bg-accent rounded-full mb-6"></div>
   
   AFTER:
   <DecorativeUnderline variant="accent" width="md" height="thin" class="mb-6" />

4. Custom gradient colors:
   BEFORE:
   <div style="background: linear-gradient(90deg, #50b0ae, #ff7e67, #e66048);"></div>
   
   AFTER:
   <DecorativeUnderline 
     variant="gradient" 
     width="md" 
     colors={['#50b0ae', '#ff7e67', '#e66048']} 
   />

BENEFITS:
- 30-40 lines of duplicate styling removed
- Consistent underline patterns
- Easy to adjust globally
- Responsive hover effects
- Automatic dark mode support
-->
