---
/**
 * Badge Component
 *
 * Small label for status, categories, counts, etc.
 *
 * @component
 */

export interface Props {
    variant?:
        | "primary"
        | "accent"
        | "success"
        | "warning"
        | "error"
        | "neutral";
    size?: "sm" | "md" | "lg";
    dot?: boolean;
    pulse?: boolean;
    class?: string;
}

const {
    variant = "neutral",
    size = "md",
    dot = false,
    pulse = false,
    class: className = "",
} = Astro.props;

const variantClasses = {
    primary: "bg-primary text-white",
    accent: "bg-accent text-white",
    success: "bg-success text-white",
    warning: "bg-warning text-white",
    error: "bg-error text-white",
    neutral: "bg-elevated border-2 border-border-primary text-text-primary",
};

const sizeClasses = {
    sm: "px-2 py-0.5 text-xs",
    md: "px-2.5 py-1 text-sm",
    lg: "px-3 py-1.5 text-base",
};
---

<span
    class:list={[
        "inline-flex items-center gap-1.5 rounded-full font-semibold",
        variantClasses[variant],
        sizeClasses[size],
        className,
    ]}
>
    {
        dot && (
            <span
                class:list={[
                    "inline-block h-2 w-2 rounded-full",
                    variant === "neutral"
                        ? "bg-text-tertiary"
                        : "bg-current opacity-80",
                    pulse && "animate-pulse",
                ]}
                aria-hidden="true"
            />
        )
    }
    <slot />
</span>
