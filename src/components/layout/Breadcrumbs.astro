---
/**
 * Breadcrumbs Component
 *
 * Navigation breadcrumb trail
 *
 * @component
 */

export interface BreadcrumbItem {
    label: string;
    href?: string;
    current?: boolean;
}

export interface Props {
    items: BreadcrumbItem[];
    separator?: string;
    class?: string;
}

const { items, separator = "/", class: className = "" } = Astro.props;
---

<nav aria-label="Breadcrumb" class:list={[className]}>
    <ol class="flex items-center gap-2 text-sm flex-wrap">
        {
            items.map((item, index) => (
                <li class="flex items-center gap-2">
                    {item.href && !item.current ? (
                        <a
                            href={item.href}
                            class="text-text-secondary hover:text-primary transition-colors"
                        >
                            {item.label}
                        </a>
                    ) : (
                        <span
                            class:list={[
                                item.current
                                    ? "text-text-primary font-semibold"
                                    : "text-text-secondary",
                            ]}
                            aria-current={item.current ? "page" : undefined}
                        >
                            {item.label}
                        </span>
                    )}

                    {index < items.length - 1 && (
                        <span class="text-text-tertiary" aria-hidden="true">
                            {separator}
                        </span>
                    )}
                </li>
            ))
        }
    </ol>
</nav>
